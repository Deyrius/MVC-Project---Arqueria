@model ListaParticipacionDto  


<div class="text-center"  id="tabla">
    <h1 class="display-4">Torneo  @Model.torneo.Nombre </h1>
    
   @functions{
        string MostrarBanderaClub(string club){
            var _club = club.Replace(" ", string.Empty).ToLower();
            return Url.Content("~/imagenes/" + _club + ".jpg" );
        }
    }
     
    @using(Html.BeginForm()){
        <p>
            Buscar por nombre o apellido: @Html.TextBox("campobusqueda")
            <input type="submit" value="Buscar" class="btn btn-dark"/>
        </p>
    } 
    @{
        @* bool disableButton = (DateTime.Compare(Model.torneo.Fecha, DateTime.Now) < 0); *@
        bool disableButton = (Model.torneo.Fecha.Subtract(DateTime.Now).Days <= -1);
    }
        <a href='@Url.Action("IrAListaTorneo","Participaciones")'>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="50" height="50" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,-2.842170943040401e-14,512)">
                <g xmlns="http://www.w3.org/2000/svg">
                    <path style="" d="M236.662,337.591l-50.299,40.406c-1.229,0.988-1.944,2.479-1.944,4.054v124.736   c0,4.246,4.814,6.703,8.252,4.212l43.99-31.873V337.591H236.662z" fill="#ff4f19" data-original="#ff4f19"/>
                    <path style="" d="M275.338,337.591l50.299,40.406c1.229,0.988,1.944,2.479,1.944,4.054v124.736   c0,4.246-4.814,6.703-8.252,4.212l-43.99-31.873L275.338,337.591L275.338,337.591z" fill="#ff4f19" data-original="#ff4f19"/>
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                    <path style="" d="M327.576,382.056v124.73c0,4.254-4.806,6.709-8.249,4.213l-13.273-9.622   c0.791-0.936,1.279-2.153,1.279-3.547V364.964c0-0.676-0.125-1.341-0.375-1.966l18.682,15   C326.868,378.987,327.576,380.474,327.576,382.056z" fill="#e23d17" data-original="#e23d17"/>
                    <path style="" d="M184.419,382.056v124.73c0,4.254,4.806,6.709,8.249,4.213l13.273-9.622   c-0.791-0.936-1.279-2.153-1.279-3.547V364.964c0-0.676,0.125-1.341,0.375-1.966l-18.682,15   C185.127,378.987,184.419,380.474,184.419,382.056z" fill="#e23d17" data-original="#e23d17"/>
                </g>
                <path xmlns="http://www.w3.org/2000/svg" style="" d="M251.526,2.176L215.78,50.797c-2.59,3.523-0.074,8.495,4.298,8.495h35.746h35.746  c4.373,0,6.889-4.972,4.298-8.495L260.123,2.176C257.99-0.725,253.658-0.725,251.526,2.176z" fill="#b7c1ca" data-original="#b7c1ca"/>
                <path xmlns="http://www.w3.org/2000/svg" style="" d="M291.573,59.292h-16.64L242.237,14.82l9.289-12.642c2.131-2.901,6.465-2.902,8.598-0.001  l35.749,48.62C298.462,54.319,295.946,59.292,291.573,59.292z" fill="#a3aeb7" data-original="#a3aeb7"/>
                <rect xmlns="http://www.w3.org/2000/svg" x="236.663" y="59.292" style="" width="38.677" height="418.918" fill="#ffdba9" data-original="#ffdba9"/>
                <rect xmlns="http://www.w3.org/2000/svg" x="255.995" y="59.292" style="" width="19.338" height="418.918" fill="#ffc473" data-original="#ffc473"/>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                <g xmlns="http://www.w3.org/2000/svg">
                </g>
                </g></svg>
        </a>
    @if(!disableButton)
    {    
        <a href='@Url.Action("Agregar","Participaciones", new{id = Model.torneo.Id})'>
           <svg enable-background="new 0 0 256 256" height="50" viewBox="0 0 256 256" width="50" xmlns="http://www.w3.org/2000/svg"><path d="m187.82 95.756c0 29.64-14.19 55.97-36.15 72.55-.75.57-1.52 1.13-2.29 1.67-14.81 10.49-32.91 16.65-52.44 16.65-13.36 0-26.04-2.88-37.47-8.06-5.29-2.39-10.31-5.29-15-8.61-1.11-.78-2.19-1.59-3.26-2.42-21.38-16.62-35.14-42.59-35.14-71.78 0-50.19 40.68-90.88 90.87-90.88s90.88 40.69 90.88 90.88z" fill="#5fcdff"/><path d="m56.205 167.535c13.54 10.53 30.12 17.3 48.22 18.78-2.47.21-4.97.31-7.49.31-21.01 0-40.34-7.12-55.73-19.09-21.38-16.62-35.14-42.59-35.14-71.78 0-50.19 40.68-90.88 90.87-90.88 2.53 0 5.03.1 7.5.31-46.68 3.81-83.37 42.91-83.37 90.57 0 29.19 13.76 55.16 35.14 71.78z" fill="#73d7f9"/><path d="m187.815 95.755c0 29.64-14.19 55.97-36.15 72.55-15.22 11.5-34.18 18.32-54.73 18.32-2.53 0-5.04-.1-7.51-.31 17.66-1.43 33.89-7.92 47.24-18.01 21.96-16.58 36.15-42.91 36.15-72.55 0-47.66-36.7-86.76-83.38-90.57 2.47-.21 4.97-.31 7.5-.31 50.19 0 90.88 40.69 90.88 90.88z" fill="#30b6ff"/><path d="m149.38 165.126v4.85c-14.81 10.49-32.91 16.65-52.44 16.65-13.36 0-26.04-2.88-37.47-8.06-5.29-2.39-10.31-5.29-15-8.61v-4.83c0-27.15 20.62-49.48 47.06-52.18-16.21-2.61-28.61-16.8-28.61-33.92 0-18.98 15.23-34.36 34-34.36 1.18 0 2.34.06 3.48.18.28.03.57.06.85.1.28.03.57.07.85.12.78.12 1.56.27 2.32.44 15.17 3.45 26.5 17.14 26.5 33.52 0 16.37-11.33 30.06-26.49 33.5-.28.07-.56.13-.85.19-.42.09-.84.16-1.26.23.71.07 1.41.16 2.11.26 25.41 3.64 44.95 25.5 44.95 51.92z" fill="#ffe2e2"/><path d="m102.32 112.946c.71.07 1.41.16 2.11.26-25.42 3.63-44.96 25.49-44.96 51.92v13.44c-5.29-2.39-10.31-5.29-15-8.61v-4.83c0-27.15 20.62-49.48 47.06-52.18-16.21-2.61-28.61-16.8-28.61-33.92 0-18.98 15.23-34.36 34-34.36 1.18 0 2.34.06 3.48.18.28.03.57.06.85.1.28.03.57.07.85.12.78.12 1.56.27 2.32.44-15.17 3.45-26.5 17.15-26.5 33.52s11.34 30.06 26.51 33.5c-.28.07-.56.13-.85.19-.42.09-.84.16-1.26.23z" fill="#ffefee"/><circle cx="187.754" cy="188.989" fill="#44c7b6" r="62.164"/><path d="m231.715 232.945c-14.05 14.05-33.16 19.97-51.46 17.76 13.33-1.61 26.23-7.53 36.46-17.76 24.27-24.28 24.27-63.64 0-87.91-10.23-10.23-23.13-16.15-36.46-17.76 18.3-2.21 37.41 3.71 51.46 17.76 24.27 24.27 24.27 63.63 0 87.91z" fill="#3bb2a0"/><path d="m158.795 232.945c10.23 10.23 23.13 16.15 36.46 17.76-18.3 2.21-37.41-3.71-51.46-17.76-24.28-24.28-24.28-63.64 0-87.91 14.05-14.05 33.16-19.97 51.46-17.76-13.33 1.61-26.23 7.53-36.46 17.76-24.28 24.27-24.28 63.63 0 87.91z" fill="#4bdbc3"/><path d="m227.855 188.985c0 6.63-5.38 12-12 12h-16.1v16.1c0 6.63-5.37 12-12 12s-12-5.37-12-12v-16.1h-16.1c-6.63 0-12-5.37-12-12 0-6.62 5.37-12 12-12h16.1v-16.09c0-6.63 5.37-12 12-12s12 5.37 12 12v16.09h16.1c6.62 0 12 5.38 12 12z" fill="#ffe2e2"/><path d="m187.755 148.895v80.19c-6.63 0-12-5.37-12-12v-16.1h-16.1c-6.63 0-12-5.37-12-12 0-6.62 5.37-12 12-12h16.1v-16.09c0-6.63 5.37-12 12-12z" fill="#ffefee"/><g fill="#5f266d"><path d="m234.523 142.205c-12.87-12.87-29.767-19.317-46.674-19.345 18.195-61.013-27.845-121.984-90.929-121.984-52.312 0-94.87 42.563-94.87 94.88 0 30.04 14.327 58.382 38.42 76.251v.039c25.911 18.345 54.563 22.48 81.174 15.301-.92 37.349 28.963 67.777 66.094 67.777 58.614 0 88.434-71.27 46.785-112.919zm-224.473-46.449c0-47.906 38.97-86.88 86.87-86.88 59.134 0 101.297 58.246 82.366 114.535-11.841 1.512-23.346 6.205-33.111 14.101-6.641-11.837-17.539-21.154-30.663-25.718 11.574-6.52 19.412-18.921 19.412-33.125 0-20.953-17.047-38-38-38s-38 17.047-38 38c0 14.217 7.853 26.629 19.445 33.144-21.062 7.353-36.474 26.847-37.798 50.064-19.24-16.428-30.521-40.608-30.521-66.121zm86.94 12.912c-16.565.037-30.067-13.427-30.067-29.998 0-16.542 13.458-30 30-30s30 13.458 30 30c0 16.519-13.421 29.961-29.933 29.998zm-48.52 59.191c0-55.744 69.075-68.895 91.623-24.749-9.781 10.153-15.682 22.676-17.694 35.699-24.466 7.509-51.728 4.003-73.929-10.95zm180.397 62.26c-22.678 22.678-59.578 22.679-82.258 0-36.571-36.572-10.443-99.266 41.129-99.266 51.562 0 77.72 62.673 41.129 99.266z"/><path d="m215.835 172.99h-12.097v-12.097c0-8.822-7.178-16-16-16s-16 7.178-16 16v12.097h-12.098c-8.822 0-16 7.178-16 16s7.178 16 16 16h12.098v12.097c0 8.822 7.178 16 16 16s16-7.178 16-16v-12.097h12.097c8.822 0 16-7.178 16-16s-7.177-16-16-16zm0 24h-16.097c-2.209 0-4 1.791-4 4v16.097c0 4.411-3.589 8-8 8s-8-3.589-8-8v-16.097c0-2.209-1.791-4-4-4h-16.098c-4.411 0-8-3.589-8-8s3.589-8 8-8h16.098c2.209 0 4-1.791 4-4v-16.097c0-4.411 3.589-8 8-8s8 3.589 8 8v16.097c0 2.209 1.791 4 4 4h16.097c4.411 0 8 3.589 8 8s-3.588 8-8 8z"/><path d="m39.732 45.141c-1.262 1.425-2.485 2.914-3.634 4.426-2.011 2.645-.094 6.421 3.181 6.421 2.635 0 3.005-1.662 6.442-5.543 1.464-1.653 1.311-4.182-.343-5.646-1.652-1.465-4.181-1.312-5.646.342z"/><path d="m33.212 61.164c-1.995-.946-4.382-.096-5.328 1.9-3.632 7.659-5.944 15.822-6.871 24.262-.241 2.196 1.343 4.171 3.54 4.413 2.214.24 4.173-1.358 4.413-3.54.83-7.552 2.897-14.855 6.147-21.708.946-1.995.095-4.38-1.901-5.327z"/></g></svg>
        </a>
    }
    
    <br/>

    <table class="table">
    <tr>
        <th>Arquero</th>
        <th>Club</th>
        <th>Categoria</th>
        <th>Diana</th>
        <th>Mosca</th>
        <th>Puesto</th>
        <th>Primer 30</th>
        <th>Puntaje</th>

    </tr>
    @using (@Html.BeginForm())
    {
    
        <input asp-for="torneo.Id" class="form-control form-control-sm" style="display:none">
        @for (int i = 0; i < Model.participantes.Count ; i++) {
        <input asp-for="participantes[i].Id" class="form-control form-control-sm" style="display:none">
        <input asp-for="participantes[i].categoria.Nombre" class="form-control form-control-sm" style="display:none">
            <tr>
                <td>
                    @if (System.IO.File.Exists(System.IO.Directory.GetCurrentDirectory()+ "\\wwwroot" +  @Url.Content("~/imagenes/"  + @Model.participantes[i].arquero.Id + ".jpg" )))
                    {
                        <img src='@Url.Content("~/imagenes/"  + @Model.participantes[i].arquero.Id + ".jpg" )' 
                        class="rounded-circle"  style="width: 70px;height:70px;" />
                    }
                    else
                    {
                        <img src='@Url.Content("~/imagenes/"  + "noimagen" + ".jpg" )' 
                        class="rounded-circle"  style="width: 70px;height:70px;" />
                    }

                    @Model.participantes[i].arquero.Nombre  
                    @Model.participantes[i].arquero.Apellido 
                    <td>
                        <a href='@Url.Action("IrAClub", "Arqueros",new {id=Model.participantes[i].arquero.ClubNavigation.Id})'>
                            <img src='@MostrarBanderaClub(@Model.participantes[i].arquero.ClubNavigation.Nombre)' class="rounded-circle" style="width:80px; height:80px;"/>    
                        </a>
                    </td>
                </td>
                <td>@Model.participantes[i].categoria.Nombre</td>
                <td>@Model.participantes[i].diana.Nombre</td>
                <td style="width:50px">
                    @if(!disableButton){
                        <input type="number" asp-for="participantes[i].mosca" class="form-control form-control-sm" style="width:55px" min="0">
                    }else{
                        @Model.participantes[i].mosca;
                    }
                </td>
                <td>@Model.participantes[i].puesto</td>
                <td>                    
                    @if(!disableButton){
                        <input type="checkbox" asp-for="participantes[i].primerTreinta" class="form-control form-control-sm" style="display:inline-block; width:50%" min="0">
                    }else{
                        {
                            string labelPrimerTreinta = (Model.participantes[i].primerTreinta) ? "SÃ­" : "No";
                            @labelPrimerTreinta;
                        }
                    }
                </td>
                <td style="width:50px">
                    @if(!disableButton){
                        <input type="number" asp-for="participantes[i].puntaje" style="width:55px" class="form-control form-control-sm"  min="0">
                    }else{
                        @Model.participantes[i].puntaje;
                    }
                </td>

                <td>
                    @*<button type="button" class="btn btn-dark">@Html.ActionLink("Ver","Detalle",new {id=Model.participantes[i].arquero.Id}) </button>*@
                    <a href='@Url.Action("Detalle", "Arqueros",new {Id=Model.participantes[i].arquero.ClubNavigation.Id})'>
                        <svg height="35pt" viewBox="0 0 511.98258 511" width="35pt" xmlns="http://www.w3.org/2000/svg"><path d="m451.742188 91.53125-28.074219-28.421875c-101.519531-87.785156-253.597657-82.265625-348.484375 12.648437-94.886719 94.910157-100.371094 246.988282-12.5625 348.488282l28.511718 28.070312c101.695313 85.476563 251.871094 78.964844 345.785157-14.992187 93.910156-93.960938 100.347656-244.140625 14.824219-345.792969zm0 0" fill="#9fc9d3"/><path d="m430.113281 228.007812v-.089843l-27.808593-70.179688c-39.796876-59.109375-111.222657-88.5-181.097657-74.515625-69.871093 13.984375-124.488281 68.601563-138.472656 138.472656-13.984375 69.871094 15.410156 141.300782 74.519531 181.097657l70.179688 27.894531c9.425781 1.527344 18.960937 2.296875 28.511718 2.296875 97.492188-.035156 176.515626-79.058594 176.550782-176.550781.015625-9.527344-.78125-19.035156-2.382813-28.425782zm-61.527343 50.757813c-9.171876 45.539063-44.765626 81.136719-90.308594 90.304687l-40.164063.707032c-58.058593-9.121094-99.84375-60.632813-96.792969-119.324219 3.050782-58.695313 49.953126-105.597656 108.644532-108.648437 58.691406-3.050782 110.207031 38.734374 119.328125 96.796874zm0 0" fill="#4482c3"/><path d="m255.945312 141.671875c-59.867187.0625-109.628906 46.132813-114.292968 105.816406-4.664063 59.683594 37.332031 112.925781 96.460937 122.289063l40.164063-.707032c45.542968-9.167968 81.136718-44.765624 90.308594-90.304687l.707031-40.164063c-8.839844-55.769531-56.882813-96.851562-113.347657-96.929687zm0 158.898437c-24.378906 0-44.136718-19.761718-44.136718-44.136718 0-24.378906 19.757812-44.140625 44.136718-44.140625 24.375 0 44.136719 19.761719 44.136719 44.140625 0 24.375-19.761719 44.136718-44.136719 44.136718zm0 0" fill="#e64c3c"/><g fill="#f0c419"><path d="m300.082031 256.433594c0 24.375-19.761719 44.136718-44.136719 44.136718-24.378906 0-44.136718-19.761718-44.136718-44.136718 0-24.378906 19.757812-44.140625 44.136718-44.140625 24.375 0 44.136719 19.761719 44.136719 44.140625zm0 0"/><path d="m41.300781 79.246094-38.707031-38.726563c-1.25-1.269531-1.617188-3.160156-.929688-4.804687.6875-1.640625 2.292969-2.707032 4.070313-2.710938l22.292969-.085937c2.4375 0 4.410156-1.976563 4.410156-4.414063l.089844-22.296875c.011718-1.773437 1.082031-3.367187 2.71875-4.050781 1.632812-.679688 3.519531-.316406 4.785156.925781l38.726562 38.714844c1.34375 1.339844 2.207032 3.082031 2.460938 4.960937l5.652344 40.609376-40.609375-5.640626c-1.878907-.265624-3.621094-1.136718-4.960938-2.480468zm0 0"/><path d="m511.785156 506.3125c.421875 1.675781-.066406 3.449219-1.289062 4.671875-1.21875 1.222656-2.992188 1.710937-4.667969 1.289063l-35.699219-9.410157-22.800781-6.03125c-1.648437-.449219-2.929687-1.75-3.355469-3.40625-.425781-1.652343.070313-3.410156 1.296875-4.597656l43.070313-43.070313c1.1875-1.226562 2.945312-1.722656 4.601562-1.296874 1.65625.425781 2.953125 1.703124 3.40625 3.351562l6.027344 22.804688zm0 0"/></g><path d="m237.582031 225.648438c60.652344-60.820313 126.308594-116.441407 196.273438-166.265626 2.734375-1.753906 4.285156-4.871093 4.03125-8.109374-.25-3.238282-2.257813-6.078126-5.230469-7.394532-2.96875-1.3125-6.421875-.886718-8.988281 1.105469-70.785157 50.402344-137.207031 106.664063-198.566407 168.191406l-131.964843-132.035156c-3.460938-3.34375-8.96875-3.296875-12.375.109375-3.402344 3.40625-3.453125 8.910156-.105469 12.375l132.105469 132.113281c-57.511719 58.882813-110.671875 121.863281-159.066407 188.441407l-7.945312 8.546874c-2.832031 2.40625-3.851562 6.328126-2.554688 9.808594 1.300782 3.484375 4.640626 5.78125 8.355469 5.746094 2.472657 0 4.835938-1.027344 6.523438-2.835938l8.960937-9.636718c.230469-.257813.449219-.53125.660156-.8125 47.921876-65.992188 100.578126-128.417969 157.546876-186.777344l49.433593 49.4375 6.796875 6.882812c1.695313 1.6875 3.984375 2.640626 6.375 2.648438 3.640625-.027344 6.890625-2.292969 8.179688-5.695312 1.292968-3.40625.359375-7.253907-2.34375-9.691407zm0 0" fill="#35495e"/><path d="m472.546875 460.550781-152.804687-152.804687c-2.214844-2.292969-5.5-3.214844-8.585938-2.40625s-5.496094 3.21875-6.304688 6.304687c-.808593 3.085938.113282 6.367188 2.40625 8.585938l152.808594 152.804687c3.460938 3.34375 8.96875 3.296875 12.375-.109375 3.402344-3.402343 3.453125-8.910156.105469-12.375zm0 0" fill="#35495e"/><path d="m498.367188 36.261719c-10.390626 3.609375-19.792969 9.59375-27.460938 17.480469-10.859375 10.855468-34.339844 60.210937-33.191406 136.226562 1.265625 34.363281-18.425782 66.066406-49.789063 80.164062l-2.914062 1.234376c-22.949219 10.160156-51.648438 22.785156-71.503907 42.648437-19.851562 19.859375-32.570312 48.550781-42.636718 71.597656l-1.234375 2.828125c-14.027344 31.4375-45.773438 51.171875-80.171875 49.839844-76.007813-1.058594-125.351563 22.332031-136.21875 33.191406-7.945313 7.738282-13.960938 17.230469-17.566406 27.71875-2.75 9.53125-12.625 15.101563-22.207032 12.527344-9.578125-2.574219-15.328125-12.347656-12.925781-21.972656 5.164063-16.675782 14.417969-31.789063 26.921875-43.972656 18.363281-18.359376 76.722656-45.117188 162.523438-43.878907 19.777343 1.148438 38.214843-10.015625 46.355468-28.074219l1.234375-2.824218c10.683594-24.453125 25.425781-57.917969 50.140625-82.636719 24.71875-24.714844 58.261719-39.464844 82.726563-50.234375l2.824219-1.238281c18.039062-8.160157 29.195312-26.585938 28.070312-46.351563-1.234375-85.8125 25.511719-144.171875 43.785156-162.429687 12.210938-12.523438 27.351563-21.808594 44.050782-27.019531 9.726562-2.539063 19.671874 3.292968 22.210937 13.019531 2.535156 9.730469-3.292969 19.671875-13.023437 22.210937zm0 0" fill="#805333"/></svg>    
                    </a>
                </td>
            </tr>
        }
        if(!disableButton){
            <input type="submit" value="Guardar" class="btn btn-success mb-3 mt-3"/>
        }
        <p style="color:red">
            @ViewBag.errorPrimerTreinta
        </p>
    } 
        
    </table>
</div>